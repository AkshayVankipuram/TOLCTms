{% extends "base.html" %}
{% block content %}
{% load staticfiles %}
<style>
    #skill_select {
        max-height: 50vh;
        overflow-y: auto;
        
    }

    .skillcheckicon {
        float: right;
        cursor: pointer;
    }

    .ralign {
        float: right;
    }

    #arrows {
        text-align: center;
        padding: 0;
    }

    #arrows .btn {
        margin-top: 20px;
    }
</style>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <div class="panel panel-info">
                <div class="panel-heading">Preferences</div>
                <div class="panel-body">
                    <ul class="list-group" id="skill_select">
                        <li class="list-group-item list-group-item-info">Skill select<br><code>Max: 3</code>&nbsp;<code>Selected: <span id="selnum">3</code></li>
                        {% for skill in prefs.allskills %}
                        <li class="list-group-item">{{skill}}&nbsp;<i id="icon_{{skill}}" class="fa fa-times skillcheckicon"></i><br><input type="range" id="slider_{{skill}}" class="lvl" disabled="true" value=0 min=0 max=5></li>
                        {% endfor %}
                    </ul>
                    <div class="panel panel-info">
                        <div class="panel-heading">Group Location</div>
                        <div class="panel-body">
                            <label class="radio-inline"><input type="radio" {% if prefs.current.colocate_pref == True %} checked {% endif %} name="optloc">Co-located</label>
                            <label class="radio-inline"><input type="radio" {% if prefs.current.colocate_pref == False %} checked {% endif %} name="optloc">Remote</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">Course Tasks</div>
                <div class="panel-body">
                    {% for course, content in taskData.items %}
                    <ul class="list-group">
                        <li class="list-group-item list-group-item-info">{{course}}&nbsp;<code class="ralign">{{content.semester}}</code></li>
                        <li class="list-group-item list-group-item-success">Dr.&nbsp;{{content.instructor}}</li>
                        <li class="list-group-item">
                            <div class="panel-group">
                                {% for task in content.tasks %}
                                <!--<a {% if task.grouped == False and task.completed == False %} class="list-group-item" href="/bulletin/?course={{course}}&title={{task.title}}" {% elif task.grouped == True and task.completed == False %} class="list-group-item" href="#" {% else %} class="list-group-item disabled" href="#" {% endif %}><i class="fa fa-users"></i>&nbsp; {{task.title}}&nbsp;<code class="ralign">Due Date: {{ task.end }}</code></a></li>-->
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <a data-toggle="collapse" href="#{{task.id}}">{{task.title}}</a>
                                    </div>
                                    <div id="{{task.id}}" class="panel-collapse collapse">
                                        <ul class="list-group">
                                            <li class="list-group-item list-group-item-warning">Due Date: {{ task.end }}</li>
                                            {% if task.grouped == False and task.completed == False and task.evaluated == False %}
                                            <a class="list-group-item" href="/bulletin/?course={{course}}&title={{task.title}}">Group<i class="fa fa-users ralign"></i></a>
                                            {% elif task.grouped == True and task.completed == False and task.evaluated == False %}
                                            <a class="list-group-item" href="/calendar/">Calendar<i class="fa fa-calendar ralign"></i></a>
                                            {% else %}
                                            <a class="list-group-item list-group-item-danger" href="/feedback/">Group Evaluation<i class="fa fa-comment ralign"></i></a>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </li>
                    </ul>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="panel panel-info">
                <div class="panel-heading">Chat</div>
                <div class="panel-body">
                    {% include "chat.html" %}
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var PREFS = {{ prefs.current | safe }};
</script>
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}
